<div class="container" *ngIf="!editProjectData">
  <span class="title">{{ project?.name }} </span>
  <span>{{ project?.description }}</span>
  <div class="button-container1">
    <button
      mat-raised-button
      *ngIf="!editProjectData"
      (click)="projectDataChange()">
      Projektdaten bearbeiten
    </button>
  </div>
</div>
<div
  *ngIf="editProjectData"
  class="container"
  xmlns="http://www.w3.org/1999/html">
  <mat-card>
    <form #f="ngForm" name="form">
      <mat-card-header>
        <h1>Projektdaten bearbeiten</h1>
      </mat-card-header>
      <mat-card-content>
        <div class="row">
          <mat-form-field>
            <mat-label>Projektname</mat-label>
            <input
              matInput
              name="projectname"
              [(ngModel)]="project.name"
              required
              #name="ngModel" />
          </mat-form-field>
        </div>
        <div class="row">
          <mat-form-field>
            <mat-label>Projektdaten</mat-label>
            <textarea
              matInput
              name="projectdata"
              [(ngModel)]="project.description"
              required
              #description="ngModel">
            </textarea>
          </mat-form-field>
        </div>
        <div class="button-container">
          <div class="row">
            <button mat-raised-button (click)="cancel()">Abbrechen</button>
            <button mat-raised-button color="primary" (click)="updateProject()">
              Projekt aktualisieren
            </button>
            <button mat-raised-button color="warn" (click)="deleteProject()">
              Projekt löschen
            </button>
          </div>
        </div>
      </mat-card-content>
    </form>
  </mat-card>
</div>

<!-- Project board -->
<div class="status-container">
  <div
    *ngFor="let status of ticketStatusMap | keyvalue"
    cdkDropList
    [id]="status.key.name"
    cdkDrop
    class="status-column"
    [cdkDropListData]="status.value"
    [cdkDropListConnectedTo]="connectedTo"
    (cdkDropListDropped)="drop($event)"
    (cdkDropDropped)="dropped($event)">
    <div class="status-title">{{ status?.key?.name }}</div>
    <mat-card *ngFor="let ticket of status?.value" cdkDrag class="ticket">
      <mat-card-header>
        <mat-card-title>
          {{ ticket?.title }}
        </mat-card-title>
      </mat-card-header>
    </mat-card>
  </div>
  <div id="add-column">
    <button
      mat-icon-button
      aria-label="Spalte hinzufügen"
      (click)="openAddStatusModal()">
      <mat-icon>add_circle</mat-icon>
    </button>
  </div>
</div>
