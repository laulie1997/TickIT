<div class="status-container" cdkDropListGroup>
  <div
    *ngFor="let dto of ticketStatusMap; let odd = odd"
    cdkDropList
    [id]="dto.status.id.toString()"
    cdkDrop
    class="status-column"
    [cdkDropListData]="dto.tickets"
    [cdkDropListConnectedTo]="connectedTo"
    (cdkDropListDropped)="onTicketDropped($event)"
    [ngClass]="{ 'alternate-background': odd }">
    <app-status-header
      (click)="openStatusModal(dto.status?.id)"
      [status]="dto.status"></app-status-header>
    <div class="ticket-container">
      <app-ticket-card
        *ngFor="let ticket of dto.tickets"
        [ticket]="ticket"
        [cdkDragData]="ticket"
        cdkDrag
        class="ticket"></app-ticket-card>
      <div class="add-ticket">
        <button
          mat-mini-fab
          color="accent"
          aria-label="Add ticket"
          (click)="openAddTicketDialog(dto?.status?.id)">
          <mat-icon>add</mat-icon>
        </button>
      </div>
    </div>
  </div>
  <div id="add-column" class="mat-elevation-z3">
    <div class="add-button">
      <button
        mat-button
        aria-label="Spalte hinzufügen"
        (click)="openStatusModal()">
        <mat-icon>add</mat-icon>
        Status hinzufügen
      </button>
    </div>
  </div>
</div>
