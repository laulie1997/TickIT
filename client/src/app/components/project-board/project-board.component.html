<div class="status-container">
  <div
    *ngFor="let status of ticketStatusMap | keyvalue; let odd = odd"
    cdkDropList
    [id]="status.key.name"
    cdkDrop
    class="status-column"
    [cdkDropListData]="status.value"
    [cdkDropListConnectedTo]="connectedTo"
    (cdkDropListDropped)="drop($event)"
    (cdkDropDropped)="dropped($event)"
    [ngClass]="{ 'alternate-background': odd }">
    <div
      class="status-header box-shadow"
      [style.background-color]="status.key?.color ? status.key?.color : ''"
      (click)="openStatusModal(status?.key?.id)">
      <div *ngIf="status?.key?.icon" class="status-icon">
        <mat-icon>
          {{ status.key.icon }}
        </mat-icon>
      </div>
      <div class="status-title">
        {{ status?.key?.name }}
      </div>
    </div>
    <mat-card *ngFor="let ticket of status?.value" cdkDrag class="ticket">
      <mat-card-header>
        <mat-card-title>
          {{ ticket?.title }}
        </mat-card-title>
      </mat-card-header>
    </mat-card>
  </div>
  <div id="add-column" class="box-shadow">
    <div class="add-button">
      <button
        mat-button
        aria-label="Spalte hinzufügen"
        (click)="openStatusModal()">
        <mat-icon>add_circle</mat-icon>
        Status hinzufügen
      </button>
    </div>
  </div>
</div>
